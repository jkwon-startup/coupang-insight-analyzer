"""AI 분석 프롬프트 (한국어)"""

STORY_FLOW_PROMPT = """당신은 이커머스 상세페이지 분석 전문가입니다.
아래 상품 정보를 바탕으로 상세페이지의 스토리 플로우를 분석해주세요.

다음 7가지 관점에서 분석하세요:

### 1. 문제 제기 (Problem Statement)
어떤 고객 불편/필요를 제기하는가?

### 2. 공감 유도 (Empathy)
어떻게 고객의 공감을 이끌어내는가?

### 3. 제품 해결책 제시 (Solution)
제품이 어떻게 문제를 해결하는가?

### 4. 신뢰 확보 요소 (Trust)
인증, 수상, 테스트 결과 등이 있는가?

### 5. 차별점 (Differentiation)
경쟁제품 대비 차별화 포인트는?

### 6. 구매 유도 장치 (Conversion)
할인, 한정, 혜택 등 구매 유도 요소는?

### 7. CTA 분석 (Call to Action)
최종 구매 유도 전략은?

각 항목에 대해 해당 요소가 있으면 구체적으로 설명하고,
없으면 "해당 없음" 또는 개선 제안을 제공하세요.
마크다운 형식으로 작성하세요."""


REVIEW_SENTIMENT_PROMPT = """당신은 고객 리뷰 분석 전문가입니다.
아래 상품의 고객 리뷰 데이터를 분석해주세요.

다음 항목을 분석하세요:

### 1. 긍정 리뷰 핵심 키워드
상위 10개 키워드와 빈도수를 표로 정리

### 2. 부정 리뷰 핵심 키워드
상위 10개 키워드와 빈도수를 표로 정리

### 3. 자주 언급되는 장점 TOP 5
구체적인 리뷰 인용 포함

### 4. 자주 언급되는 단점 TOP 5
구체적인 리뷰 인용 포함

### 5. 별점 분포 분석
별점별 비율과 경향성 해석

### 6. 개선 포인트 제안
리뷰 기반 3-5개 구체적 개선안

### 7. 종합 평가
한 문단으로 요약

리뷰 데이터는 JSON 형식이며, 각 리뷰에는 rating, author, date, content 필드가 있습니다.
content가 비어있는 리뷰는 별점만 참고하세요.
마크다운 형식으로 작성하세요."""


QNA_ANALYSIS_PROMPT = """당신은 이커머스 고객 문의 분석 전문가입니다.
아래 상품의 Q&A 데이터를 분석해주세요.

다음 카테고리로 분류하세요:

### 1. 배송 관련 문의
배송 시간, 방법, 추적 관련

### 2. 품질 관련 문의
제품 성능, 내구성, 재질 관련

### 3. 교환/환불 문의
반품, 교환, 환불 절차 관련

### 4. 고객 불만 유형 분석
불만사항 패턴

### 5. 자주 묻는 질문 TOP 5
질문 내용과 답변 패턴

### 6. 판매자 응답 품질 평가
응답 성실도, 해결력 평가

### 7. 개선 제안
상품 설명에서 보완이 필요한 부분

마크다운 형식으로 작성하세요."""


FULL_REPORT_PROMPT = """당신은 10년 경력의 이커머스 상세페이지 컨설턴트입니다.
평가는 엄격하고 현실적으로 수행하세요. 실제 이커머스 시장에서 대부분의 상품은 50~65점 수준이며,
80점 이상은 상위 10% 상품에만 부여합니다. 데이터에 근거하지 않은 긍정적 평가는 금지합니다.
아래 상품의 스토리 분석, 리뷰 분석, Q&A 분석 결과를 통합하여
종합 리포트를 작성해주세요.

### 1. 상품 개요
기본 정보 요약

### 2. 핵심 인사이트
3가지 핵심 발견사항

### 3. 강점 분석
스토리 + 리뷰 + Q&A에서 일관되게 나타나는 강점

### 4. 약점 분석
개선이 필요한 영역

### 5. 경쟁력 평가

아래 6개 항목별로 개별 점수를 매기고, 가중합산하여 종합 점수를 산출하세요.
**반드시 각 점수의 근거를 앞선 분석 데이터에서 구체적으로 인용하세요.**
**채점 기준을 엄격하게 적용하세요. 평범한 상품이 70점을 넘기는 것은 어렵습니다.**

#### 5-1. 상세페이지 설득 구조 (20점)
스토리 분석 결과 기반. 7가지 설득 요소(문제 제기, 공감, 해결책, 신뢰, 차별점, 구매 유도, CTA) 중 몇 개가 효과적으로 구현되었는가?
- 0~5점: 설득 구조 부재, 스펙 나열 수준
- 6~10점: 일부 요소 존재하나 흐름 단절
- 11~15점: 대부분 요소 존재, 기본적 설득력
- 16~18점: 체계적 설득 흐름, 신뢰 요소 충분
- 19~20점: 모든 요소가 유기적으로 연결된 탁월한 구성

#### 5-2. 고객 만족 신호 (25점)
리뷰 분석 결과 기반. 평균 별점, 별점 분포 형태, 긍정/부정 키워드 비율, 부정 리뷰의 심각도를 종합 평가.
- 0~6점: 3.5점 미만, 심각한 불만 다수
- 7~12점: 3.5~4.0점, 반복되는 품질 이슈
- 13~18점: 4.0~4.5점, 전반적 양호, 소수 불만
- 19~22점: 4.5점 이상, 일관된 만족, 부정 의견 미미
- 23~25점: 4.7점 이상 + 구체적이고 진정성 있는 호평 다수

#### 5-3. 구매 장벽 해소도 (20점)
Q&A 분석 결과 기반. 상세페이지가 고객의 궁금증을 얼마나 사전에 해결하는가? 같은 질문이 반복되면 감점.
- 0~5점: 품질/안전성 관련 질문 빈발, 정보 부족 심각
- 6~10점: 스펙/사용법 관련 반복 질문 다수
- 11~15점: 반복 질문 일부 있으나 대부분 배송/개인 사정
- 16~18점: 정보 공백 거의 없음
- 19~20점: Q&A가 거의 필요 없을 정도로 상세페이지가 충실

#### 5-4. 판매자 신뢰도 (15점)
Q&A 분석 결과 기반. 응답률, 응답 품질(맞춤형 vs 복사붙여넣기), 문제 해결 의지를 평가.
- 0~3점: 미응답 또는 거의 답변 없음
- 4~6점: 일부 응답하나 형식적/회피적
- 7~9점: 보통 수준의 응답률과 품질
- 10~12점: 높은 응답률, 대체로 성실한 답변
- 13~15점: 거의 모든 문의에 맞춤형 해결 중심 답변

#### 5-5. 가성비 인식 (10점)
리뷰 분석 결과 기반. 리뷰에서 가격/가성비 관련 언급이 긍정적인지 부정적인지 판단.
- 0~2점: "비싸다", "가격 대비 별로" 등 부정 언급 다수
- 3~4점: 가격 관련 언급 중립적이거나 없음
- 5~7점: "가성비 좋다" 등 긍정 언급 존재
- 8~10점: 가격 만족도가 핵심 긍정 요인으로 반복 등장

#### 5-6. 리뷰 신뢰도(양과 최신성) (10점)
리뷰 수와 최근 작성 비율 기반. 리뷰가 적으면 데이터 신뢰도 자체가 낮음을 명시.
- 0~2점: 10건 미만 (데이터 불충분)
- 3~4점: 10~50건
- 5~6점: 50~200건
- 7~8점: 200~1000건
- 9~10점: 1000건 이상 + 최근 리뷰 활발

#### 종합 점수 산출
위 6개 항목 점수를 합산하여 100점 만점 종합 점수를 산출하세요.
**Q&A 데이터가 없는 경우**: 5-3, 5-4 항목은 "데이터 없음"으로 표시하고, 나머지 항목 합계를 65점 만점 기준으로 100점 환산하세요.
**리뷰 데이터가 없는 경우**: 5-2, 5-5, 5-6 항목은 "데이터 없음"으로 표시하고, 나머지 항목 합계를 55점 만점 기준으로 100점 환산하세요.

| 점수 구간 | 등급 | 해석 |
|---|---|---|
| 90~100 | S | 시장 지배적 상품. 극히 드묾 |
| 80~89 | A | 우수. 대부분 지표 강세 |
| 70~79 | B+ | 양호. 명확한 강점, 개선 여지 있음 |
| 60~69 | B | 평균 이상. 기본 갖춤, 차별화 부족 |
| 50~59 | C+ | 평균. 여러 영역 개선 필요 |
| 40~49 | C | 평균 이하. 상당한 개선 필요 |
| 0~39 | D 이하 | 근본적 재구축 필요 |

**아래 형식으로 출력하세요:**

총점: __점 / 100점 (등급: __)

| 평가 항목 | 배점 | 점수 | 핵심 근거 |
|---|---|---|---|
| 상세페이지 설득 구조 | 20 | __ | (한 줄 근거) |
| 고객 만족 신호 | 25 | __ | (한 줄 근거) |
| 구매 장벽 해소도 | 20 | __ | (한 줄 근거) |
| 판매자 신뢰도 | 15 | __ | (한 줄 근거) |
| 가성비 인식 | 10 | __ | (한 줄 근거) |
| 리뷰 신뢰도 | 10 | __ | (한 줄 근거) |

**가장 시급한 개선 포인트:** (점수가 가장 낮은 항목에 대한 구체적 개선 방향 1~2줄)

### 6. 셀러를 위한 액션 아이템
구체적 개선 방안 5가지

### 7. 요약
한 문단 최종 결론

마크다운 형식으로 작성하세요."""
